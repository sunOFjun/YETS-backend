
CREATE TABLE TAX_BASE_INFO
(
	NAME VARCHAR(50),
	JUMIN VARCHAR(50) ,
	TOTAL_INCOME INTEGER ,
	PAID_TAX INTEGER ,
	LABOUR_INCOME INTEGER,
	TAX_BASE INTEGER,
	CALCULATED_TAX INTEGER ,
	DETERMINED_TAX INTEGER ,
	TAX_PAYABLE INTEGER,
	primary key (NAME, JUMIN)
);


CREATE TABLE HUMAN_DEDUCTION
(
	JUMIN VARCHAR(50) ,
	MYSELF INTEGER DEFAULT 1,
	SPOUSE_YN VARCHAR(1),
	PARENTS INTEGER ,
	CHILDREN INTEGER ,
	EXCEPT_CHILDREN INTEGER ,
	SIBLING INTEGER,
	SENIORITY INTEGER,
	DISABLED INTEGER ,
	WOMEN INTEGER,
	primary key (JUMIN)
);

CREATE TABLE INCOME_DEDUCTION
(
	JUMIN VARCHAR(50) ,
	NATIONAL_PENSION INTEGER,
	HEALTH_INSURANCE INTEGER,
	EMPLOYMENT_INSURANCE INTEGER,
	MORTGAGE_LOAN INTEGER ,
	PRIVATE_PENSION_SAVING INTEGER ,
	HOUSING_SAVING INTEGER ,
	CREDIT_CARD INTEGER,
	DEBIT_CARD INTEGER,
	CASH INTEGER ,
	CREDIT_CARD_CULTURE INTEGER,
	DEBIT_CARD_CULTURE INTEGER,
	CASH_CULTURE INTEGER ,
	TRADITIONAL_MARKET INTEGER,
	PUBLIC_TRANSPORT INTEGER,
	primary key (JUMIN)
);


CREATE TABLE INCOME_DEDUCTION_AMOUNT
(
	JUMIN VARCHAR(50) ,
	BASIC_HUMAN_DEDUCTION_AMOUNT INTEGER,
	ADDITIONAL_HUMAN_DEDUCTION_AMOUNT INTEGER,
	NATIONAL_PENSION_AMOUNT INTEGER,
	HEALTH_INSURANCE_AMOUNT INTEGER,
	EMPLOYMENT_INSURANCE_AMOUNT INTEGER,
	MORTGAGE_LOAN_AMOUNT INTEGER ,
	PRIVATE_PENSION_SAVING_AMOUNT INTEGER ,
	HOUSING_SAVING_AMOUNT INTEGER ,
	CREDIT_CARD_ETC_AMOUNT INTEGER,
	primary key (JUMIN)
);

CREATE TABLE INCOME_DEDUCTION_LIMIT
(
	JUMIN VARCHAR(50) ,
	BASIC_HUMAN_DEDUCTION_LIMIT INTEGER,
	ADDITIONAL_HUMAN_DEDUCTION_LIMIT INTEGER,
	NATIONAL_PENSION_LIMIT INTEGER,
	HEALTH_INSURANCE_LIMIT INTEGER,
	EMPLOYMENT_INSURANCE_LIMIT INTEGER,
	MORTGAGE_LOAN_LIMIT INTEGER ,
	PRIVATE_PENSION_SAVING_LIMIT INTEGER ,
	HOUSING_SAVING_LIMIT INTEGER ,
	CREDIT_CARD_ETC_LIMIT INTEGER,
	primary key (JUMIN)
);


CREATE TABLE IF NOT EXISTS public.tax_credit
(
    jumin character varying(50) COLLATE pg_catalog."default" NOT NULL,
    children_tax_credit_number integer,
    birth_first integer,
    birth_second integer,
    birth_third_up integer,
    life_insurance integer,
    medical_infertility integer,
    medical_premie integer,
    medical_special integer,
    medical_general integer,
    actual_medical_expenses integer,
    CONSTRAINT tax_credit_pkey PRIMARY KEY (jumin)
)

CREATE TABLE IF NOT EXISTS public.tax_credit_amount
(
    jumin character varying(50) COLLATE pg_catalog."default" NOT NULL,
    labour_income_tax_credit_amount integer,
    children_tax_credit_amount integer,
    life_insurance_amount integer,
    medical_expenses_amount integer,
    standard_tax_credit integer,
    CONSTRAINT tax_credit_amount_pkey PRIMARY KEY (jumin)
)

CREATE TABLE TAX_CREDIT_LIMIT
(
	JUMIN VARCHAR(50) ,
	CHILDREN_TAX_CREDIT_LIMIT INTEGER,
	LIFE_INSURANCE_LIMIT INTEGER ,
	MEDICAL_EXPENSES_LIMIT INTEGER ,
	primary key (JUMIN)
);


CREATE TABLE tax_rate_info
(
	CODE VARCHAR(50) ,
	CODE_NAME VARCHAR(50) ,
	LEFT_LIMIT INTEGER,
	RIGHT_LIMIT INTEGER ,
	SECTION_RATE NUMERIC(5,2) ,
	RATE NUMERIC(5,2) ,
	BASE_AMOUNT INTEGER ,
	PRIORITY INTEGER ,
	primary key (CODE,priority)
);

INSERT INTO public.tax_rate_info(
	code, code_name, left_limit, right_limit, section_rate, rate, base_amount, priority)
	VALUES ('RATE01','근로소득공제',0,5000000,0.7,0,0,1),
('RATE01','근로소득공제',5000000,15000000,0.4,0,3500000,2),
('RATE01','근로소득공제',15000000,45000000,0.15,0,7500000,3),
('RATE01','근로소득공제',45000000,100000000,0.05,0,12000000,4),
('RATE01','근로소득공제',100000000,1000000000,0.02,0,14750000,5),
('RATE02','신용카드 등 공제한도',0,70000000,0,0.2,3000000,1),
('RATE02','신용카드 등 공제한도',70000000,120000000,0,0.2,2500000,2),
('RATE02','신용카드 등 공제한도',120000000,1000000000,0,0.2,2000000,3),
('RATE03','과세표준 기본세율',0,12000000,0.06,0,0,1),
('RATE03','과세표준 기본세율',12000000,46000000,0.15,0,720000,2),
('RATE03','과세표준 기본세율',46000000,88000000,0.24,0,5820000,3),
('RATE03','과세표준 기본세율',88000000,150000000,0.35,0,15900000,4),
('RATE03','과세표준 기본세율',150000000,300000000,0.38,0,37600000,5),
('RATE03','과세표준 기본세율',300000000,500000000,0.4,0,94600000,6),
('RATE03','과세표준 기본세율',500000000,1000000000,0.42,0,174600000,7),
('RATE03','과세표준 기본세율',1000000000,2000000000,0.45,0,384600000,8) ;